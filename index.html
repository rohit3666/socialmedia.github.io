<!DOCTYPE html>
<html>
<head>
    <title>AI Social Media Manager Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .tab-active { background: linear-gradient(to right, #9333ea, #2563eb); color: white; }
        .post-card:hover { transform: translateY(-2px); transition: all 0.3s; }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 via-blue-50 to-pink-50 min-h-screen">
    
    <!-- Header -->
    <div class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <h1 class="text-3xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent">
                ‚ú® AI Social Media Manager Pro
            </h1>
        </div>
    </div>

    <!-- Navigation Tabs -->
    <div class="max-w-7xl mx-auto px-6 py-4">
        <div class="flex gap-2 overflow-x-auto bg-white p-2 rounded-lg shadow mb-6">
            <button onclick="showTab('generator')" id="tab-generator" class="tab-active px-4 py-2 rounded-lg whitespace-nowrap font-medium">
                ‚ú® AI Generator
            </button>
            <button onclick="showTab('scheduled')" id="tab-scheduled" class="px-4 py-2 rounded-lg whitespace-nowrap font-medium hover:bg-gray-100">
                üìÖ Scheduled Posts
            </button>
            <button onclick="showTab('saved')" id="tab-saved" class="px-4 py-2 rounded-lg whitespace-nowrap font-medium hover:bg-gray-100">
                üíæ Saved Posts
            </button>
            <button onclick="showTab('analytics')" id="tab-analytics" class="px-4 py-2 rounded-lg whitespace-nowrap font-medium hover:bg-gray-100">
                üìä Analytics
            </button>
        </div>

        <!-- AI Generator Tab -->
        <div id="content-generator" class="tab-content">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                
                <!-- Input Section -->
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
                        <span>üé®</span> Create Content
                    </h2>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">Topic / Idea:</label>
                            <textarea id="topic" class="w-full p-3 border rounded-lg h-24 focus:ring-2 focus:ring-purple-500" placeholder="What do you want to post about?"></textarea>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Platform:</label>
                                <select id="platform" class="w-full p-2 border rounded-lg focus:ring-2 focus:ring-purple-500">
                                    <option>Twitter</option>
                                    <option>Instagram</option>
                                    <option>Facebook</option>
                                    <option>LinkedIn</option>
                                    <option>TikTok</option>
                                    <option>Pinterest</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Tone:</label>
                                <select id="tone" class="w-full p-2 border rounded-lg focus:ring-2 focus:ring-purple-500">
                                    <option>Professional</option>
                                    <option>Casual</option>
                                    <option>Funny</option>
                                    <option>Inspirational</option>
                                    <option>Educational</option>
                                    <option>Urgent</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-2">Upload Image (Optional):</label>
                            <input type="file" id="imageUpload" accept="image/*" class="w-full p-2 border rounded-lg" onchange="previewImage()">
                            <div id="imagePreview" class="mt-2 hidden">
                                <img id="previewImg" class="max-h-40 rounded-lg border-2">
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-2">Number of Variations:</label>
                            <input type="number" id="variations" value="3" min="1" max="10" class="w-full p-2 border rounded-lg focus:ring-2 focus:ring-purple-500">
                        </div>

                        <button onclick="generateContent()" class="w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 font-bold shadow-lg">
                            ‚ú® Generate AI Content
                        </button>
                    </div>
                </div>

                <!-- Output Section -->
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold mb-4">‚ö° Generated Variations</h2>
                    <div id="variations-container" class="space-y-4 max-h-[600px] overflow-y-auto">
                        <div class="text-center py-12 text-gray-400">
                            <div class="text-6xl mb-4">‚ú®</div>
                            <p>Your AI-generated variations will appear here</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scheduled Posts Tab -->
        <div id="content-scheduled" class="tab-content hidden">
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold mb-4">üìÖ Scheduled Posts</h2>
                <div id="scheduled-posts" class="space-y-3">
                    <p class="text-gray-400 text-center py-8">No scheduled posts yet</p>
                </div>
            </div>
        </div>

        <!-- Saved Posts Tab -->
        <div id="content-saved" class="tab-content hidden">
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold">üíæ Saved Posts</h2>
                    <button onclick="clearAllSaved()" class="text-sm text-red-600 hover:text-red-700">Clear All</button>
                </div>
                <div id="saved-posts" class="space-y-3">
                    <p class="text-gray-400 text-center py-8">No saved posts yet</p>
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div id="content-analytics" class="tab-content hidden">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div class="text-center">
                        <p class="text-gray-500 text-sm">Total Generated</p>
                        <p class="text-4xl font-bold text-purple-600" id="stat-generated">0</p>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div class="text-center">
                        <p class="text-gray-500 text-sm">Saved Posts</p>
                        <p class="text-4xl font-bold text-blue-600" id="stat-saved">0</p>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div class="text-center">
                        <p class="text-gray-500 text-sm">Scheduled</p>
                        <p class="text-4xl font-bold text-green-600" id="stat-scheduled">0</p>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div class="text-center">
                        <p class="text-gray-500 text-sm">Total Variations</p>
                        <p class="text-4xl font-bold text-orange-600" id="stat-variations">0</p>
                    </div>
                </div>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h3 class="text-xl font-bold mb-4">Platform Distribution</h3>
                <div id="platform-stats" class="space-y-3"></div>
            </div>
        </div>
    </div>

    <script>
        let savedPosts = JSON.parse(localStorage.getItem('savedPosts') || '[]');
        let scheduledPosts = JSON.parse(localStorage.getItem('scheduledPosts') || '[]');
        let analytics = JSON.parse(localStorage.getItem('analytics') || '{"generated": 0, "platforms": {}}');

        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('[id^="tab-"]').forEach(el => {
                el.classList.remove('tab-active');
                el.classList.add('hover:bg-gray-100');
            });
            
            document.getElementById('content-' + tabName).classList.remove('hidden');
            document.getElementById('tab-' + tabName).classList.add('tab-active');
            document.getElementById('tab-' + tabName).classList.remove('hover:bg-gray-100');

            if (tabName === 'saved') loadSavedPosts();
            if (tabName === 'scheduled') loadScheduledPosts();
            if (tabName === 'analytics') loadAnalytics();
        }

        function previewImage() {
            const file = document.getElementById('imageUpload').files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('previewImg').src = e.target.result;
                    document.getElementById('imagePreview').classList.remove('hidden');
                }
                reader.readAsDataURL(file);
            }
        }

        async function generateContent() {
            const topic = document.getElementById('topic').value;
            if (!topic) {
                alert('Please enter a topic!');
                return;
            }

            const platform = document.getElementById('platform').value;
            const tone = document.getElementById('tone').value;
            const numVariations = parseInt(document.getElementById('variations').value);
            
            const container = document.getElementById('variations-container');
            container.innerHTML = '<div class="text-center py-8"><div class="animate-spin text-6xl">‚ö°</div><p class="mt-4 text-gray-600">Generating ' + numVariations + ' variations...</p></div>';

            const variations = [];
            
            for (let i = 0; i < numVariations; i++) {
                try {
                    const response = await fetch('https://api.anthropic.com/v1/messages', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            model: 'claude-sonnet-4-20250514',
                            max_tokens: 1000,
                            messages: [{
                                role: 'user',
                                content: `Create variation ${i+1} of a ${tone.toLowerCase()} social media post for ${platform} about: "${topic}". Make each variation unique. Include emojis and 3-5 hashtags. Keep it concise and engaging.`
                            }]
                        })
                    });

                    const data = await response.json();
                    variations.push(data.content[0].text);
                } catch (error) {
                    variations.push(`üöÄ ${topic} - Variation ${i+1}\n\nExploring new horizons! Join us on this journey.\n\n#Innovation #Growth #Success #${platform}`);
                }
            }

            displayVariations(variations, platform);
            updateAnalytics(platform, numVariations);
        }

        function displayVariations(variations, platform) {
            const container = document.getElementById('variations-container');
            container.innerHTML = '';

            variations.forEach((content, index) => {
                const card = document.createElement('div');
                card.className = 'post-card bg-gradient-to-br from-purple-50 to-blue-50 p-4 rounded-lg border-2 border-purple-200 shadow';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <span class="bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-bold">Variation ${index + 1}</span>
                        <span class="text-gray-600 text-sm">${platform}</span>
                    </div>
                    <div class="bg-white p-4 rounded-lg mb-3 whitespace-pre-wrap text-gray-800">${content}</div>
                    <div class="flex gap-2">
                        <button onclick="copyToClipboard('${content.replace(/'/g, "\\'")}', ${index})" class="flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 text-sm font-medium">
                            üìã Copy
                        </button>
                        <button onclick="savePost('${content.replace(/'/g, "\\'")}', '${platform}')" class="flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 text-sm font-medium">
                            üíæ Save
                        </button>
                        <button onclick="schedulePost('${content.replace(/'/g, "\\'")}', '${platform}')" class="flex-1 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 text-sm font-medium">
                            üìÖ Schedule
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function copyToClipboard(text, index) {
            navigator.clipboard.writeText(text);
            alert('Variation ' + (index + 1) + ' copied to clipboard! üéâ');
        }

        function savePost(content, platform) {
            const post = {
                id: Date.now(),
                content: content,
                platform: platform,
                savedAt: new Date().toLocaleString()
            };
            savedPosts.push(post);
            localStorage.setItem('savedPosts', JSON.stringify(savedPosts));
            alert('Post saved! üíæ');
        }

        function schedulePost(content, platform) {
            const datetime = prompt('Enter date and time (YYYY-MM-DD HH:MM):', 
                new Date(Date.now() + 86400000).toISOString().slice(0, 16).replace('T', ' '));
            
            if (datetime) {
                const post = {
                    id: Date.now(),
                    content: content,
                    platform: platform,
                    scheduledFor: datetime,
                    status: 'scheduled'
                };
                scheduledPosts.push(post);
                localStorage.setItem('scheduledPosts', JSON.stringify(scheduledPosts));
                alert('Post scheduled for ' + datetime + '! üìÖ');
            }
        }

        function loadSavedPosts() {
            const container = document.getElementById('saved-posts');
            if (savedPosts.length === 0) {
                container.innerHTML = '<p class="text-gray-400 text-center py-8">No saved posts yet</p>';
                return;
            }

            container.innerHTML = '';
            savedPosts.forEach(post => {
                const card = document.createElement('div');
                card.className = 'bg-white p-4 rounded-lg border shadow hover:shadow-md transition';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm">${post.platform}</span>
                        <button onclick="deletePost(${post.id})" class="text-red-600 hover:text-red-700 text-sm">üóëÔ∏è Delete</button>
                    </div>
                    <div class="text-gray-800 mb-2 whitespace-pre-wrap">${post.content}</div>
                    <div class="text-xs text-gray-500">Saved: ${post.savedAt}</div>
                    <button onclick="copyToClipboard('${post.content.replace(/'/g, "\\'")}', 0)" class="mt-2 w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 text-sm">
                        üìã Copy
                    </button>
                `;
                container.appendChild(card);
            });
        }

        function loadScheduledPosts() {
            const container = document.getElementById('scheduled-posts');
            if (scheduledPosts.length === 0) {
                container.innerHTML = '<p class="text-gray-400 text-center py-8">No scheduled posts yet</p>';
                return;
            }

            container.innerHTML = '';
            scheduledPosts.forEach(post => {
                const card = document.createElement('div');
                card.className = 'bg-white p-4 rounded-lg border shadow hover:shadow-md transition';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <span class="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm">${post.platform}</span>
                        <span class="bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm">${post.status}</span>
                    </div>
                    <div class="text-gray-800 mb-2 whitespace-pre-wrap">${post.content}</div>
                    <div class="text-sm text-gray-600">üìÖ Scheduled for: ${post.scheduledFor}</div>
                    <div class="flex gap-2 mt-2">
                        <button onclick="copyToClipboard('${post.content.replace(/'/g, "\\'")}', 0)" class="flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 text-sm">
                            üìã Copy
                        </button>
                        <button onclick="deleteScheduled(${post.id})" class="px-4 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 text-sm">
                            üóëÔ∏è
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function deletePost(id) {
            if (confirm('Delete this saved post?')) {
                savedPosts = savedPosts.filter(p => p.id !== id);
                localStorage.setItem('savedPosts', JSON.stringify(savedPosts));
                loadSavedPosts();
            }
        }

        function deleteScheduled(id) {
            if (confirm('Delete this scheduled post?')) {
                scheduledPosts = scheduledPosts.filter(p => p.id !== id);
                localStorage.setItem('scheduledPosts', JSON.stringify(scheduledPosts));
                loadScheduledPosts();
            }
        }

        function clearAllSaved() {
            if (confirm('Clear all saved posts?')) {
                savedPosts = [];
                localStorage.setItem('savedPosts', JSON.stringify(savedPosts));
                loadSavedPosts();
            }
        }

        function updateAnalytics(platform, variations) {
            analytics.generated += variations;
            analytics.platforms[platform] = (analytics.platforms[platform] || 0) + variations;
            localStorage.setItem('analytics', JSON.stringify(analytics));
        }

        function loadAnalytics() {
            document.getElementById('stat-generated').textContent = analytics.generated;
            document.getElementById('stat-saved').textContent = savedPosts.length;
            document.getElementById('stat-scheduled').textContent = scheduledPosts.length;
            document.getElementById('stat-variations').textContent = analytics.generated;

            const platformStats = document.getElementById('platform-stats');
            platformStats.innerHTML = '';
            
            Object.entries(analytics.platforms).forEach(([platform, count]) => {
                const bar = document.createElement('div');
                bar.className = 'mb-3';
                const percentage = (count / analytics.generated * 100).toFixed(1);
                bar.innerHTML = `
                    <div class="flex justify-between mb-1">
                        <span class="font-medium">${platform}</span>
                        <span class="text-gray-600">${count} posts (${percentage}%)</span>
                    </div>
                    <div class="bg-gray-200 rounded-full h-3">
                        <div class="bg-gradient-to-r from-purple-600 to-blue-600 h-3 rounded-full" style="width: ${percentage}%"></div>
                    </div>
                `;
                platformStats.appendChild(bar);
            });
        }

        // Load initial data
        window.onload = () => {
            loadAnalytics();
        };
    </script>
</body>
</html>
