<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Social Media Manager</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">

<header class="bg-white shadow">
  <div class="max-w-5xl mx-auto p-4">
    <h1 class="text-2xl font-bold text-purple-600">
      AI Social Media Manager
    </h1>
  </div>
</header>

<main class="max-w-5xl mx-auto p-6 grid md:grid-cols-2 gap-6">

<!-- INPUT -->
<div class="bg-white p-6 rounded shadow">
  <h2 class="text-lg font-bold mb-4">Create Post</h2>

  <textarea id="topic" class="w-full p-2 border rounded mb-4"
    placeholder="Enter your post idea"></textarea>

  <select id="platform" class="w-full p-2 border rounded mb-3">
    <option>LinkedIn</option>
    <option>Twitter</option>
    <option>Instagram</option>
    <option>Facebook</option>
  </select>

  <select id="tone" class="w-full p-2 border rounded mb-3">
    <option>Professional</option>
    <option>Casual</option>
    <option>Educational</option>
    <option>Inspirational</option>
  </select>

  <input id="count" type="number" min="1" max="5" value="3"
    class="w-full p-2 border rounded mb-4">

  <button onclick="generatePosts()"
    class="w-full bg-purple-600 text-white py-2 rounded">
    Generate
  </button>
</div>

<!-- OUTPUT -->
<div class="bg-white p-6 rounded shadow">
  <h2 class="text-lg font-bold mb-4">Generated Posts</h2>
  <div id="output" class="space-y-4"></div>
</div>

</main>

<script>
const API_URL = https://ai-social-back.onrender.com;

async function generatePosts() {
  const topic = document.getElementById("topic").value.trim();
  const platform = document.getElementById("platform").value;
  const tone = document.getElementById("tone").value;
  const count = Number(document.getElementById("count").value);

  if (!topic) {
    alert("Enter a topic");
    return;
  }

  const output = document.getElementById("output");
  output.innerHTML = "Generating...";

  const requests = Array.from({ length: count }, (_, i) =>
    fetch(API_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        topic,
        platform,
        tone,
        variation: i + 1
      })
    }).then(res => res.json())
  );

  const results = await Promise.all(requests);
  output.innerHTML = "";

  results.forEach(res => {
    const card = document.createElement("div");
    card.className = "border p-3 rounded bg-gray-50";

    const text = document.createElement("pre");
    text.textContent = res.content;

    const copy = document.createElement("button");
    copy.textContent = "Copy";
    copy.className = "mt-2 bg-blue-600 text-white px-3 py-1 rounded";
    copy.onclick = () => navigator.clipboard.writeText(res.content);

    card.append(text, copy);
    output.appendChild(card);
  });
}
</script>

</body>
</html>
